{"version":3,"sources":["components/Breadcrumbs.js","templates/Category.js"],"names":["Breadcrumbs","props","breadcrumbs","name","href","icon","type","concat","Object","F_xampp_htdocs_phongkhamthienhoa_net_phongkhamthienhoa_net_master_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","data","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","className","map","breadcrumb","key","_Link__WEBPACK_IMPORTED_MODULE_2__","to","src","alt","Slideshow","loadable","__webpack_require__","e","then","bind","FormReason","SidebarRight","Promise","all","SEO","resolve","Category","_useState","useState","_useState2","F_xampp_htdocs_phongkhamthienhoa_net_phongkhamthienhoa_net_master_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","authors","setAuthors","_useState3","_useState4","posts","setPosts","_useState5","_useState6","categories","setCategories","_useState7","_useState8","child","setChild","_useState9","_useState10","page","setPage","_useState11","_useState12","totalPage","setTotalPage","_useState13","_useState14","loading","setLoading","_useState15","_useState16","loadMore","setLoadMore","width","Dimensions","useEffect","getChild","id","res","F_xampp_htdocs_phongkhamthienhoa_net_phongkhamthienhoa_net_master_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","async","_context3","prev","next","awrap","fetch","process","sent","abrupt","json","stop","window","scrollTo","resJson","length","catch","console","error","cate","cate_ID","_context2","t0","_","item","_context","t1","flattenDeep","call","join","headers","get","p","getData","slug","react__WEBPACK_IMPORTED_MODULE_2___default","_components_Loading__WEBPACK_IMPORTED_MODULE_6__","Fragment","title","_layouts_Header__WEBPACK_IMPORTED_MODULE_3__","_components_Breadcrumbs__WEBPACK_IMPORTED_MODULE_5__","_components_Link__WEBPACK_IMPORTED_MODULE_8__","category","post","jetpack_featured_media_url","rendered","dangerouslySetInnerHTML","__html","excerpt","author","find","getAuthorName","onClick","listCate","arguments","undefined","getPosts","_layouts_Footer__WEBPACK_IMPORTED_MODULE_4__"],"mappings":"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","file":"static/js/11.8a7b19f4.chunk.js","sourcesContent":["import React from 'react'\nimport Link from './Link'\n\nconst Breadcrumbs = props => {\n    const breadcrumbs = [\n        {name: 'Trang chủ', href: '/', icon: 'assets/images/home.png', type: 'image'},\n        ...props.data\n    ]\n    return (\n        <ul className='breadcrumbs'>\n            {breadcrumbs.map((breadcrumb, key) => (\n                <li key={key}><Link to={breadcrumb.href}>{breadcrumb.type === 'image' ?\n                    <img src={breadcrumb.icon} alt={breadcrumb.name}/> : breadcrumb.name}</Link></li>\n            ))}\n        </ul>\n    )\n}\n\nexport default Breadcrumbs\n","import React, {useEffect, useState} from 'react'\nimport Header from \"../layouts/Header\";\nimport Footer from \"../layouts/Footer\";\nimport Breadcrumbs from \"../components/Breadcrumbs\";\nimport Loading from \"../components/Loading\";\nimport _ from 'lodash'\nimport Link from '../components/Link'\nimport Dimensions from '../components/Dimensions'\nimport loadable from \"@loadable/component\";\n\nconst Slideshow = loadable(() => import(\"../components/Slideshow\"))\nconst FormReason = loadable(() => import(\"../components/FormReason\"))\nconst SidebarRight = loadable(() => import(\"../layouts/SidebarRight\"))\nconst SEO = loadable(() => import(\"../components/SEO\"))\n\nconst Category = props => {\n    const [authors, setAuthors] = useState([])\n    const [posts, setPosts] = useState([])\n    const [categories, setCategories] = useState([])\n    const [child, setChild] = useState([])\n    const [page, setPage] = useState(1)\n    const [totalPage, setTotalPage] = useState(0)\n    const [loading, setLoading] = useState(true)\n    const [loadMore, setLoadMore] = useState(true)\n\n    const {width} = Dimensions()\n\n    useEffect(() => {\n        async function getData() {\n            const data = await getChild(props.id)\n            const child = _.flattenDeep(await Promise.all(data.map(async item => await getChild(item.id))))\n\n            const cate = _.concat(props, data, child)\n            const cate_ID = _.map(cate, 'id')\n\n            setCategories(cate_ID)\n            setChild(child)\n            await fetch(`${process.env.REACT_APP_API_URL}/wp-json/wp/v2/posts?categories=${_.join(cate_ID, ',')}`)\n                .then(res => {\n                    setTotalPage(res.headers.get('x-wp-totalpages'))\n                    return res.json()\n                })\n                .then(resJson => {\n                    setPosts(resJson)\n                    setPage(p => p + 1)\n                })\n                .catch(e => console.error(e))\n        }\n\n        async function getChild(id) {\n            const res = await fetch(`${process.env.REACT_APP_API_URL}/wp-json/wp/v2/categories?parent=${id}`)\n\n            return res.json()\n        }\n\n        window.scrollTo(0, 0)\n        getAllAuthor()\n        getData().then(() => setLoading(false))\n\n    }, [props])\n\n    function getPosts(listCate = [], page = 1) {\n        fetch(`${process.env.REACT_APP_API_URL}/wp-json/wp/v2/posts?categories=${_.join(listCate, ',')}&page=${page}`)\n            .then(res => res.json())\n            .then(resJson => {\n                if (page < totalPage) {\n                    setPosts(_.concat(posts, resJson))\n                    setPage(page + 1)\n                } else {\n                    setLoadMore(false)\n                }\n            })\n            .catch(e => console.error(e))\n    }\n\n    function getAllAuthor() {\n        fetch(`${process.env.REACT_APP_API_URL}/wp-json/wp/v2/users`)\n            .then(res => res.json())\n            .then(resJson => {\n                if (resJson.length > 0)\n                    setAuthors(resJson)\n            })\n            .catch(e => console.error(e))\n    }\n\n    function getAuthorName(id) {\n        let author = _.find(authors, {id: id})\n        return author ? author.name : false\n    }\n\n    const breadcrumbs = [\n        {name: props.name, href: props.slug}\n    ]\n\n    if (loading) return <Loading/>\n\n    return (\n        <>\n            <SEO title={props.name}/>\n            <Header/>\n            {width < 576 && <Slideshow id={props.id}/>}\n            <div className=\"category-page wrapper\">\n                <div className=\"col\">\n                    <Breadcrumbs data={breadcrumbs}/>\n                    {(child.length > 0 && width <= 768) &&\n                    <ul className='collapse--category'>\n                        <li key={props.id}>\n                            <div className='collapse__header'><Link to={props.slug}>Danh mục bệnh</Link>\n                                <button>{true ? '－' : '＋'}</button>\n                            </div>\n                            <ul className={true ? 'd-block' : 'd-none'}>\n                                {child.map(category => <li key={category.id}><Link\n                                    to={category.slug}>{category.name}</Link>\n                                </li>)}\n                            </ul>\n                        </li>\n                    </ul>\n                    }\n                    {posts.length > 0 &&\n                    posts.map(post => (\n                        <article key={post.id} className='article--category'>\n                            <div className=\"header\">\n                                <div className=\"thumb\">\n                                    <Link to={post.slug}><img src={post.jetpack_featured_media_url}\n                                                              alt={post.title.rendered}/></Link>\n                                </div>\n                                <div className=\"info\">\n                                    <p className='title'><Link to={post.slug}>{post.title.rendered}</Link></p>\n                                    <div className='desc'\n                                         dangerouslySetInnerHTML={{__html: post.excerpt.rendered}}></div>\n                                </div>\n                            </div>\n                            <div className='body'>\n                                <div className=\"author\"><b>Tác giả:</b> {getAuthorName(post.author)}</div>\n                                <div className=\"category\"><b>Chuyên khoa:</b> {props.name}</div>\n                                <div className=\"category\"><Link to={post.slug}>Xem chi tiết</Link></div>\n                            </div>\n                        </article>\n                    ))\n                    }\n                    {loadMore &&\n                    <button className='btn--block' onClick={() => getPosts(categories, page)}>Xem thêm</button>}\n                    <FormReason/>\n                </div>\n                <div className=\"col\">\n                    <SidebarRight/>\n                </div>\n            </div>\n            <Footer/>\n        </>\n    )\n}\n\nexport default Category\n"],"sourceRoot":""}