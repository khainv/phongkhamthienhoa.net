{"version":3,"sources":["components/Slideshow.js"],"names":["Slideshow","props","_useState","useState","_useState2","Object","F_xampp_htdocs_phongkhamthienhoa_net_phongkhamthienhoa_net_master_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","slideshow","setSlideshow","_useState3","_useState4","loading","setLoading","width","Dimensions","useEffect","getCategory","id","res","F_xampp_htdocs_phongkhamthienhoa_net_phongkhamthienhoa_net_master_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","a","async","_context","prev","next","awrap","fetch","concat","process","sent","abrupt","json","stop","getBanner","_context2","category","parent","_context5","acf","length","map","banner","_context3","s","F_xampp_htdocs_phongkhamthienhoa_net_phongkhamthienhoa_net_master_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","image","_context4","getData","then","react__WEBPACK_IMPORTED_MODULE_3___default","createElement","_components_Loading__WEBPACK_IMPORTED_MODULE_5__","height","react_id_swiper__WEBPACK_IMPORTED_MODULE_4___default","autoplay","loop","key","src","alt","className"],"mappings":"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","file":"static/js/4.acbdcb00.chunk.js","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport Swiper from 'react-id-swiper'\nimport Loading from '../components/Loading'\nimport Dimensions from '../components/Dimensions'\n\nconst Slideshow = props => {\n    const [slideshow, setSlideshow] = useState([])\n    const [loading, setLoading] = useState(true)\n    const paramsBanner = {\n        autoplay: true,\n        loop: true\n    }\n    const {width} = Dimensions()\n\n    useEffect(() => {\n        async function getCategory(id) {\n            const res = await fetch(`${process.env.REACT_APP_API_URL}/wp-json/wp/v2/categories/${id}`)\n            return res.json()\n        }\n\n        async function getBanner(id) {\n            const res = await fetch(`${process.env.REACT_APP_API_URL}/wp-json/wp/v2/banners/${id}`)\n\n            return res.json()\n        }\n\n        async function getData() {\n            const category = await getCategory(props.id)\n            if (category.acf.slideshow && category.acf.slideshow.length > 0) {\n                category.acf.slideshow.map(async id => {\n                    const banner = await getBanner(id)\n                    setSlideshow(s => [...s, banner.acf.image])\n                })\n            } else if (category.parent !== 0) {\n                const parent = await getCategory(category.parent)\n                if (parent.acf.slideshow && parent.acf.slideshow.length > 0) {\n                    parent.acf.slideshow.map(async id => {\n                        const banner = await getBanner(id)\n                        setSlideshow(s => [...s, banner.acf.image])\n                    })\n                }\n            }\n        }\n\n        getData().then(() => setLoading(false))\n    }, [props.id])\n\n    if (loading) return <Loading height={width * 300 / 414}/>\n\n    if (slideshow.length > 0 && width <= 480) {\n        return <Swiper {...paramsBanner}>\n            {slideshow.map((image, key) => (\n                <div key={key}>\n                    <img src={image} alt=\"\" className='img-fluid'/>\n                </div>\n            ))}\n        </Swiper>\n    } else {\n        return false\n    }\n}\n\nexport default Slideshow\n"],"sourceRoot":""}