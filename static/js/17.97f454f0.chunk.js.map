{"version":3,"sources":["layouts/SidebarRight.js"],"names":["moment","locale","console","log","SidebarRight","_useState","useState","_useState2","Object","F_xampp_htdocs_phongkhamthienhoa_net_phongkhamthienhoa_net_master_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","categories","setCategories","_useState3","_useState4","childCategories","setChildCategories","_useState5","_useState6","postNew","setPostNew","_useState7","undefined","_useState8","keyCollapse","setKeyCollapse","_useState9","_useState10","toggleCollapse","setToggleCollapse","_useState11","_useState12","loading","setLoading","useEffect","Promise","all","fetch","concat","process","then","res","json","resJson","catch","e","error","react__WEBPACK_IMPORTED_MODULE_4___default","a","createElement","_components_Loading__WEBPACK_IMPORTED_MODULE_5__","Fragment","length","className","map","category","key","id","_components_Link__WEBPACK_IMPORTED_MODULE_1__","to","slug","name","onClick","getChild","post","src","jetpack_featured_media_url","alt","title","rendered","date","fromNow","react_id_swiper__WEBPACK_IMPORTED_MODULE_3___default","slidesPerView","navigation","nextEl","prevEl","href"],"mappings":"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","file":"static/js/17.97f454f0.chunk.js","sourcesContent":["import Link from '../components/Link'\nimport moment from \"moment\";\nimport Swiper from \"react-id-swiper\";\nimport React, {useState, useEffect} from \"react\";\nimport Loading from \"../components/Loading\";\nimport 'moment/locale/vi'\n\nmoment.locale('vi')\nconsole.log('abc');\nconst SidebarRight = () => {\n    const [categories, setCategories] = useState([])\n    const [childCategories, setChildCategories] = useState([])\n    const [postNew, setPostNew] = useState([])\n    const [keyCollapse, setKeyCollapse] = useState(undefined)\n    const [toggleCollapse, setToggleCollapse] = useState(true)\n    const [loading, setLoading] = useState(true)\n\n    const paramsAds = {\n        slidesPerView: 1,\n        navigation: {\n            nextEl: '.swiper-button-next',\n            prevEl: '.swiper-button-prev',\n        }\n    }\n\n    useEffect(() => {\n        Promise.all([\n            // lấy tất cả danh mục\n            fetch(`${process.env.REACT_APP_API_URL}/wp-json/wp/v2/categories?parent=0&include=102056019,102056011,102056008,102055953,102056000,102056005`)\n                .then(res => res.json())\n                .then(resJson => {\n                    setCategories(resJson)\n                })\n                .catch(e => console.error(e)),\n            // lấy các bài viết mới nhất\n            fetch(`${process.env.REACT_APP_API_URL}/wp-json/wp/v2/posts?per_page=5`)\n                .then(res => res.json())\n                .then(resJson => {\n                    setPostNew(resJson)\n                })\n                .catch(e => console.error(e)),\n        ])\n            .then(() => {\n                setLoading(false)\n            })\n            .catch(e => console.error(e))\n    }, [])\n\n    function getChild(id, key) {\n        if (key === keyCollapse) return setToggleCollapse(!toggleCollapse)\n        fetch(`${process.env.REACT_APP_API_URL}/wp-json/wp/v2/categories?parent=${id}`)\n            .then(res => res.json())\n            .then(resJson => {\n                setChildCategories(resJson)\n                setKeyCollapse(key)\n                setToggleCollapse(true)\n            })\n            .catch(e => console.error(e))\n    }\n\n    if (loading) return <Loading/>\n\n    return (\n        <>\n            {categories.length > 0 &&\n            <div className=\"category__list\">\n                <div className=\"box--title\">Chuyên khoa</div>\n                <ul className='collapse'>\n                    {categories.map((category, key) => (\n                        <li key={category.id}>\n                            <div className='collapse__header'><Link to={category.slug}>{category.name}</Link>\n                                <button\n                                    onClick={() => getChild(category.id, key)}>{(toggleCollapse && keyCollapse === key) ? '－' : '＋'}\n                                </button>\n                            </div>\n                            {childCategories.length > 0 &&\n                            <ul className={(toggleCollapse && keyCollapse === key) ? 'd-block' : 'd-none'}>\n                                {childCategories.map(category => <li key={category.id}><Link\n                                    to={category.slug}>{category.name}</Link>\n                                </li>)}\n                            </ul>\n                            }\n                        </li>\n                    ))}\n                </ul>\n            </div>\n            }\n            {postNew.length > 0 &&\n            <>\n                <div className=\"box--title\">Bài viết mới nhất</div>\n                <div className=\"article__new\">\n                    {postNew.map(post => (\n                        <article key={post.id}>\n                            <div className=\"header\">\n                                <Link to={post.slug}><img src={post.jetpack_featured_media_url}\n                                                          alt={post.title.rendered}/></Link>\n                            </div>\n                            <div className='body'>\n                                <p className='title'><Link to={post.slug}>{post.title.rendered}</Link></p>\n                                <span className='time'>{moment(post.date).fromNow()}</span>\n                            </div>\n                        </article>\n                    ))}\n                </div>\n            </>\n            }\n            <Swiper {...paramsAds}>\n                <div>\n                    <a href=\"#ads02\">\n                        <img src=\"assets/images/ads02.jpg\" alt=\"\"\n                             className=\"img-fluid\"/>\n                    </a>\n                </div>\n                <div>\n                    <a href=\"#ads01\">\n                        <img src=\"assets/images/ads01.jpg\" alt=\"\"\n                             className=\"img-fluid\"/>\n                    </a>\n                </div>\n            </Swiper>\n        </>\n    )\n}\n\nexport default SidebarRight\n"],"sourceRoot":""}